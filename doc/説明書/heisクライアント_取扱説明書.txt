!! Hon bunsho ga mojibake suru baai wa, TEXT-EDITOR no moji ENCODING o UTF-8(BOM) ni henko shite kudasai. !!

heis総合クライアントCompreheisive Client 取扱説明書
Author: Ryo Konno

1. 概要
	本文書は、heis総合クライアントCompreheisive Client(以下、"CC")の取扱説明書です。

2. 動作環境
	CCは、Windows OSおよびLinux OS上で動作します。

3. CCの作成背景と目的
	これまでのheisクライアント作成では、フィールドやユニットの表現、TCP通信の制御など、
	AIの思考ルーチン以外にも作成するべきものが多く、それらはプログラミングが不得意な学生にとっては障壁となっていました。
	CCは、そのような障壁を取り除き、heis対戦用AIを容易に作成するための基盤プラットフォームとして作成されました。
	すべての学生が、プログラミングゼミにおいてAIの思考ルーチン考案・作成に尽力できるようになることを
	究極の目標としています。

4. インストール・ビルド手順
	CCのソースコードをBitbucketよりダウンロードし、ビルドするまでの手順を説明します。
	なお、実行にあたりGit, Visual Studio(Windowsのみ)、CMake(Linuxのみ)のインストールが事前に必要となります。
	(1) Bitbucketからリポジトリをクローンする。
		("git"コマンドが実行できるコマンドラインにて)
			$ cd (適当なディレクトリ名)
			$ git clone https://Konno_Ryo@bitbucket.org/Konno_Ryo/heisclient_cc.git
		※クローン先のディレクトリを空にしておくことを推奨します。
		※GitのGUIクライアントソフト(TortoiseGitなど)を使用している場合には、上記URLでクローン操作を行ってください。
		  詳細な操作方法については、お手数ですがソフトの説明書などをご参照ください。
		※以下、記載するパスはここでクローンしたディレクトリを起点とします。

	(2) ビルドする。
		(Windows) 
			a) "heisclient_cc\HeisClient_CC\project_win"ディレクトリ内にある
			   "HeisClient_CC.sln"をクリックする。
			b) Visual Studioが開くので、ビルド構成は"Release"、プラットフォーム構成は"x86"でビルドする。
			Note: Visual Studioの操作方法が不明な場合は、同梱の"VS使い方ガイド.txt"をご参照ください。

		(Linux) 
			a) CMakeを用いてビルドする。
			   $ cd heisclient_cc/HeisClient_CC/project_linux
			   $ cmake .
			   $ make

5. モード
	CCは以下の3つのモードでheisのゲームをプレイできます。
	(1)ローカルモード
		本モードは、サーバに接続せずオフライン環境でheisをプレイできます。
		対戦相手のAIもユーザが実装でき、対戦条件も柔軟に変更できます。
		自分の作成したAIのシミュレーションにお使いください。

	(2)オンラインモード
		本モードは、サーバに接続して実際にheisの対戦を行います。
		対戦本番時にはこちらのモードでプレイしてください。

	(3)観戦モード
		本モードは、サーバに接続して他プレイヤー同士の対戦を観戦できます。

6. 設定変更
	CCの設定変更は、モードごとに用意される設定ファイルを書き換えることで行います。
	設定ファイルはテキストファイルであるため、テキストエディタで編集できます。
	各設定ファイルは、"heisclient_cc/HeisClient_CC/setting/CC"にあります。

	(1)ローカルモード
		"local_setting.conf"というファイルを変更します。
		設定できる項目を以下に示します。

		[ローカルモードの設定項目]
			・"field_width": フィールドの横幅(1以上)
			・"field_height": フィールドの高さ(1以上)
			・"my_team_name": 自チームのチーム名(*1)
			・"enemy_team_name": 敵チームのチーム名(*1)
			・"my_infantries_init_x_coodinate_N": 自チームの、N番目の兵士の初期x座標(N=1,2, ...)
			・"my_infantries_init_y_coodinate_N": 自チームの、N番目の兵士の初期y座標(N=1,2, ...)
			・"enemy_infantries_init_x_coodinate_N": 敵チームの、N番目の兵士の初期x座標(N=1,2, ...)
			・"enemy_infantries_init_y_coodinate_N": 敵チームの、N番目の兵士の初期y座標(N=1,2, ...)
			・"first_turn_team": 先攻になるチームのチーム名(*2)

			(*1): 最初の2文字が被らないような名前を設定してください。
			      また、空白を含んだ名前は非推奨です。
				ex) my_team_name = "TeamX", enemy_team_name = "TeamY" => NG
					my_team_name = "My Team", enemy_team_name = "Enemy Team" => 動作するが、非推奨
					my_team_name = "MyTeam", enemy_team_name = "EnemyTeam" => OK

			(*2): my_team_name, enemy_team_nameで指定した名前のどちらでもない場合、敵チームが先攻になります。

	(2)オンラインモード
		"online_setting.conf"というファイルを変更します。
		設定できる項目を以下に示します。

		[オンラインモードの設定項目]
			・"server_ip_addr": サーバのIPアドレス(IPv4)。
			・"server_port_num": サーバの対戦用ポート番号(0-65535)。
			・"team_name": 自チーム名(*3)。

			(*3): 場合によっては、実際にゲームで使用されるチーム名はここで設定したチーム名と
				  異なる名前になる可能性があります。

	(3)観戦モード
		"audience_setting.conf"というファイルを変更します。
		設定できる項目を以下に示します。

		[観戦モードの設定項目]
			・"server_ip_addr": サーバのIPアドレス(IPv4)。
			・"server_port_num": サーバの観戦用ポート番号(0-65535)。

7. 実行
	コマンドラインから、引数なしで実行できます。
	実行後、モードを選択すれば選択したモードでゲームが開始できます。
	[実行ファイルの場所]
		(Windows)
			heisclient_cc\HeisClient_CC\project_win\bin\x86\Release
		(Linux) 
			heisclient_cc/HeisClient_CC/project_linux/bin

	[実行例]
		(Linux)
			$ bin/HeisClient_CC.exe
			ゲームモードを選択してください(1: ローカルモード, 2: オンラインモード, 3: 観戦モード)
			1
			...

		(Windows)
			> HeisClient_CC.exe
			ゲームモードを選択してください(1: ローカルモード, 2: オンラインモード, 3: 観戦モード)
			1
			...

8. ログ
	実行時、各種情報がログファイルに出力されます。
	対戦結果の確認や、デバッグなどご自由にお使いください。
	出力されるログは以下の3種類です。
	★はAI開発時や戦略構想時に、○はCC自体のデバッグ時に確認することを推奨するログです。
	[ログの種類]
		★フィールドログ(field_log_(作成日時).log): 各ターンでの盤面の状態を記録したログです。
		★対戦ログ(battle_log_(作成日時).log): 対戦の進行状況や対戦内でのアクションを記録したログです。
		○システムログ(system_log_(作成日時).log): CCのシステム上で発生したイベントを記録したログです。

	[ログファイルの場所]
		(Windows) heisclient_cc\HeisClient_CC\project_win\log
		(Linux) heisclient_cc/HeisClient_CC/project_linux/log

9. 本ソフトの取り扱いルール
	・CC(補助ソフトウェアやコメントを含む)および関連ドキュメントの
	  機能追加・バグ修正・配布・レビューなどに関する活動は、以下に示す行為を除きすべて自由とし、
	  初版製作者(Ryo Konno)の許可なく行うことができます。
	  以下に違反する行為が行われた場合、リポジトリの公開停止・編集禁止などの措置を取る場合があります。
		a) CCを、悪意を持ったソフトウェアに改造すること。
		b) 本来の目的(heis用AI作成)でない目的のために、CCおよびドキュメントを利用・改造すること。
		c) CCおよびドキュメントを、商用利用すること。
		d) CCおよびドキュメントを、有償で販売すること(オンライン・オフラインを問いません)。
		e) CCおよびドキュメントに以下の内容を記載すること。
			i) 個人情報。
			ii) 機密情報。
			iii) 特定の個人もしくは団体を傷つける・脅迫する内容。
			iv) わいせつな内容など、公序良俗や法律に反する内容。
		f) その他、初版作成者が不適切と判断した行為。
	・新たに外部のソース・ライブラリ等を追加する場合は、そのライセンス・規約に従ってください。
	  ※ 追加する前に一報いただけるとありがたいです。
	・CCに関する質問・バグ報告・コメントなどは、slack, LINE、もしくは口頭でお願いします。
